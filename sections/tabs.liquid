<style>
  /* The Main Container */
  .tabs_wrapper_flex {
    display: flex !important;
    /* align-items: flex-start is REQUIRED for sticky to work. 
       If it is 'stretch', the sidebar height will match the content and have nowhere to slide. */
    align-items: flex-start !important; 
    gap: 80px !important; /* Large gap between sidebar and content */
    width: 100%;
  }

/* 1. THE LAYOUT PARENT */
  .tabs_element {
    display: flex !important;
    flex-direction: row !important; /* Keep them side-by-side */
    align-items: flex-start !important; /* PREVENTS the sidebar from being as tall as the content */
    gap: 80px !important;
    width: 100% !important;
    position: relative !important;
  }

  /* 2. THE STICKY MENU */
  .tabs_menu {
    position: -webkit-sticky !important;
    position: sticky !important;
    top: 100px !important; /* Must be less than the viewport height */
    width: 300px !important; 
    flex-shrink: 0 !important;
    z-index: 10 !important;
    /* Ensure the menu itself doesn't have a height of 100% */
    height: auto !important; 
  }

  /* 3. The Sidebar Tab Links */
  .details_item {
    padding: 1.25rem 0 !important;
    text-align: left !important;
    background: transparent !important;
    cursor: pointer !important;
    transition: all 0.3s ease;
    opacity: 0.5; /* Dim inactive tabs like your reference */
  }

  .details_item.is-active {
    opacity: 1 !important;
  }

  /* 4. The Content Area (Right Side) */
  .tabs_body {
    flex-grow: 1 !important;
  }

  .tabs_panel-content {
    display: flex !important;
    flex-direction: column !important;
    /* This creates the vertical "Gaps" between heading, paragraph, and images */
    gap: 2.5rem !important; 
    max-width: 960px; /* Limits line length for better readability */
  }

  /* 5. The Image Layout */
  /* This grid handles 1, 2, or 3 images automatically */
  .tab-images-container {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
    gap: 1.5rem !important;
    margin-top: 1rem !important;
  }

  .tab-img {
    width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
  }

</style>

        <div class="padding-global padding-section-large">
          <div class="container-large">
            <div class="tabs_wrapper_flex">
              <div x-data="{tab: 1}" class="tabs_element">
                <div li-for:inside="block in section.blocks" class="tabs_menu">
        {% for block in section.blocks %}                            {% if block.type == 'tab' %}    <button x-bind:class="tab === {{forloop.index}} ? 'is-active' : ''" x-on:click="tab = {{forloop.index}}" role="tab" aria-controls="panel-{{section.index}}-{{forloop.index}}" tabindex="0" id="tab-{{section.index}}-{{forloop.index}}" x-bind:aria-selected="tab === {{forloop.index}} ? 'true' : 'false'" li-if="block.type == 'tab'" class="details_item">
    
                    <div li-object="block.settings.text_tab_label" class="heading-style-h7">{{ block.settings.text_tab_label }}</div>
                      </button>
{% endif %}
                    {% endfor %}    </div>
                <div class="tabs_body">
                  {% for block in section.blocks %}
    {% if block.type == "tab" %}
                    <div id="panel-{{section.index}}-{{forloop.index}}" x-show="tab === {{forloop.index}}" aria-labelledby="tab-{{section.index}}-{{forloop.index}}" role="tabpanel" x-bind:aria-hidden="tab === {{forloop.index}} ? 'false' : 'true'" x-cloak="" li-block="Tab" class="tabs_panel">
                                    
                    
                    <div class="tabs_panel-content">
  <div class="heading-style-h3">{{ block.settings.text_tab_label }}</div>
  <div class="text-size-medium">{{ block.settings.text_text }}</div>

  {% if block.settings.image_image %}
    {{ block.settings.image_image | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}

  {% if block.settings.image_2 %}
    {{ block.settings.image_2 | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}

  {% if block.settings.image_3 %}
    {{ block.settings.image_3 | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}

    {% if block.settings.image_4 %}
    {{ block.settings.image_4 | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}
</div>
                                    

                                    <div class="hide">
{{ block.settings.text_tab_label }}
</div>
                                    
                  
                            </div>
            {% endif %}
{% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div> {% schema %} {
    "tag": "section",
    "name": "Tabs",
    "class": "section_tabs background-color-secondary",
    "blocks": [
        {
            "name": "Tab",
            "type": "tab",
            "settings": [
                {
                    "id": "text_tab_label",
                    "type": "text",
                    "label": "Tab Label",
                    "default": "Tab Label"
                },
                {
                    "id": "text_text",
                    "type": "text",
                    "label": "Text",
                    "default": "Tab Text"
                },
                {
                    "id": "image_image",
                    "type": "image_picker",
                    "label": "Image"
                },
                {
                    "id": "image_2",
                    "type": "image_picker",
                    "label": "Image 2"
                },
                                {
                    "id": "image_3",
                    "type": "image_picker",
                    "label": "Image 3"
                },
                                {
                    "id": "image_4",
                    "type": "image_picker",
                    "label": "Image 4"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Tabs",
            "category": "Liquify",
            "blocks": [
                {
                    "type": "tab"
                }
            ]
        }
    ]
} {% endschema %}