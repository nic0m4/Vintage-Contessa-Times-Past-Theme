<style>
/* The Main Container */
.tabs_wrapper_flex {
  display: flex !important;
  align-items: flex-start !important; 
  width: 100%;
}

/* 1. THE LAYOUT PARENT */
.tabs_element {
  display: flex !important;
  flex-direction: row !important;
  align-items: flex-start !important;
  gap: 2.5rem !important;
  width: 100% !important;
  position: relative !important;
}

/* 2. THE STICKY MENU */
.tabs_menu {
  position: -webkit-sticky !important;
  position: sticky !important;
  top: 100px !important;
  max-width: 27.5rem !important;
  z-index: 10 !important;
  height: auto !important; 
}

/* 3. The Sidebar Tab Links */
.details_item {
  padding: 1rem 0 !important;
  text-align: left !important;
  background: transparent !important;
  cursor: pointer !important;
  transition: all 0.3s ease;
  opacity: 0.5;
  width: 100% !important;
}

.details_item.is-active {
  opacity: 1 !important;
}

/* 4. The Content Area (Right Side) */
.tabs_body {
  flex-grow: 1 !important;
}

.tabs_panel-content {
  display: flex !important;
  flex-direction: column !important;
  gap: 2.5rem !important; 
  max-width: 960px;
}

/* 5. The Image Layout */
.tab-images-container {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
  gap: 1.5rem !important;
  margin-top: 1rem !important;
}

.tab-img {
  width: 100% !important;
  height: auto !important;
  object-fit: cover !important;
}

/* ============================================
   RESPONSIVE BREAKPOINTS
   ============================================ */

/* Tablet and below (991px) */
@media screen and (max-width: 991px) {
  /* Stack tabs above content */
  .tabs_element {
    flex-direction: column !important;
    gap: 2rem !important;
  }

  /* Make tabs horizontal scrollable */
  .tabs_menu {
    position: relative !important;
    top: auto !important;
    max-width: 100% !important;
    width: 100% !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    display: flex !important;
    flex-direction: row !important;
    gap: 0 !important;
    /* Hide scrollbar but keep functionality */
    scrollbar-width: thin;
    -webkit-overflow-scrolling: touch;
    /* Add padding for better touch targets */
    padding: 0.5rem 0 !important;
  }

  /* Style individual tab buttons for horizontal layout */
  .details_item {
    flex-shrink: 0 !important;
    padding: 0.75rem 1.5rem !important;
    white-space: nowrap !important;
    text-align: center !important;
    transition: all 0.3s ease !important;
    width: auto !important;
  }


  /* Full width content */
  .tabs_body {
    width: 100% !important;
  }

  .tabs_panel-content {
    max-width: 100% !important;
  }
}

/* Mobile (767px and below) */
@media screen and (max-width: 767px) {
  .tabs_element {
    gap: 1.5rem !important;
  }

  .tabs_menu {
    /* Add scroll indicators/shadows */
    background: 
      linear-gradient(to right, white 30%, transparent),
      linear-gradient(to left, white 30%, transparent),
      linear-gradient(to right, rgba(0,0,0,.15), transparent),
      linear-gradient(to left, rgba(0,0,0,.15), transparent);
    background-repeat: no-repeat;
    background-position: left center, right center, left center, right center;
    background-size: 20px 100%, 20px 100%, 10px 100%, 10px 100%;
    background-attachment: local, local, scroll, scroll;
  }

  .details_item {
    padding: 0.625rem 1.25rem !important;
    font-size: 0.875rem !important;
  }

  .tabs_panel-content {
    gap: 1.5rem !important;
  }

  /* Adjust image grid for mobile */
  .tab-images-container {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
}

/* Optional: Custom scrollbar styling for webkit browsers */
@media screen and (max-width: 991px) {
  .tabs_menu::-webkit-scrollbar {
    height: 4px;
  }

  .tabs_menu::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 2px;
  }

  .tabs_menu::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 2px;
  }

  .tabs_menu::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
  }
}
</style>

        <div class="padding-global padding-section-large">
          <div class="container-large">
            <div class="tabs_wrapper_flex">
              <div x-data="{tab: 1}" class="tabs_element">
                <div li-for:inside="block in section.blocks" class="tabs_menu">
        {% for block in section.blocks %}                            {% if block.type == 'tab' %}    <button x-bind:class="tab === {{forloop.index}} ? 'is-active' : ''" x-on:click="tab = {{forloop.index}}" role="tab" aria-controls="panel-{{section.index}}-{{forloop.index}}" tabindex="0" id="tab-{{section.index}}-{{forloop.index}}" x-bind:aria-selected="tab === {{forloop.index}} ? 'true' : 'false'" li-if="block.type == 'tab'" class="details_item">
    
                    <div li-object="block.settings.text_tab_label" class="heading-style-h7">{{ block.settings.text_tab_label }}</div>
                      </button>
{% endif %}
                    {% endfor %}    </div>
                <div class="tabs_body">
                  {% for block in section.blocks %}
    {% if block.type == "tab" %}
                    <div id="panel-{{section.index}}-{{forloop.index}}" x-show="tab === {{forloop.index}}" aria-labelledby="tab-{{section.index}}-{{forloop.index}}" role="tabpanel" x-bind:aria-hidden="tab === {{forloop.index}} ? 'false' : 'true'" x-cloak="" li-block="Tab" class="tabs_panel">
                                    
                    
                    <div class="tabs_panel-content">
  <div class="heading-style-h3">{{ block.settings.text_tab_label }}</div>
  <div class="text-size-medium">{{ block.settings.text_text }}</div>

  {% if block.settings.image_image %}
    {{ block.settings.image_image | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}

  {% if block.settings.image_2 %}
    {{ block.settings.image_2 | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}

  {% if block.settings.image_3 %}
    {{ block.settings.image_3 | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}

    {% if block.settings.image_4 %}
    {{ block.settings.image_4 | image_url: width: 1000 | image_tag: loading: 'lazy', class: 'tab-img' }}
  {% endif %}
</div>
                                    

                                    <div class="hide">
{{ block.settings.text_tab_label }}
</div>
                                    
                  
                            </div>
            {% endif %}
{% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div> {% schema %} {
    "tag": "section",
    "name": "Tabs",
    "class": "section_tabs background-color-secondary",
    "blocks": [
        {
            "name": "Tab",
            "type": "tab",
            "settings": [
                {
                    "id": "text_tab_label",
                    "type": "text",
                    "label": "Tab Label",
                    "default": "Tab Label"
                },
                {
                    "id": "text_text",
                    "type": "text",
                    "label": "Text",
                    "default": "Tab Text"
                },
                {
                    "id": "image_image",
                    "type": "image_picker",
                    "label": "Image"
                },
                {
                    "id": "image_2",
                    "type": "image_picker",
                    "label": "Image 2"
                },
                                {
                    "id": "image_3",
                    "type": "image_picker",
                    "label": "Image 3"
                },
                                {
                    "id": "image_4",
                    "type": "image_picker",
                    "label": "Image 4"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Tabs",
            "category": "Liquify",
            "blocks": [
                {
                    "type": "tab"
                }
            ]
        }
    ]
} {% endschema %}